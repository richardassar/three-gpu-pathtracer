{"mappings":"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","sources":["example/depthOfField.js"],"sourcesContent":["import * as THREE from 'three';\nimport { FullScreenQuad } from 'three/examples/jsm/postprocessing/Pass.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { PathTracingRenderer, PhysicalPathTracingMaterial, PhysicalCamera, BlurredEnvMapGenerator } from '../src/index.js';\nimport { PathTracingSceneWorker } from '../src/workers/PathTracingSceneWorker.js';\nimport { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader.js';\nimport { MeshoptDecoder } from 'three/examples/jsm/libs/meshopt_decoder.module.js';\nimport { GUI } from 'three/examples/jsm/libs/lil-gui.module.min.js';\n\nlet renderer, controls, sceneInfo, ptRenderer, camera, fsQuad, scene;\nlet samplesEl;\nconst mouse = new THREE.Vector2();\nconst focusPoint = new THREE.Vector3();\nconst params = {\n\n\tenvironmentIntensity: 3,\n\tenvironmentRotation: 0,\n\tbounces: 3,\n\tsamplesPerFrame: 1,\n\tresolutionScale: 1 / window.devicePixelRatio,\n\tfilterGlossyFactor: 0.5,\n\ttiles: 1,\n\tautoFocus: true,\n\n};\n\n// clamp value for mobile\nconst aspectRatio = window.innerWidth / window.innerHeight;\nif ( aspectRatio < 0.65 ) {\n\n\tparams.bounces = Math.max( params.bounces, 6 );\n\tparams.resolutionScale *= 0.5;\n\tparams.tiles = 2;\n\n}\n\ninit();\n\nasync function init() {\n\n\trenderer = new THREE.WebGLRenderer( { antialias: true } );\n\trenderer.toneMapping = THREE.ACESFilmicToneMapping;\n\tdocument.body.appendChild( renderer.domElement );\n\n\tcamera = new PhysicalCamera( 60, window.innerWidth / window.innerHeight, 0.025, 500 );\n\tcamera.position.set( - 0.262, 0.5276, - 1.1606 );\n\tcamera.apertureBlades = 6;\n\tcamera.fStop = 0.6;\n\tcamera.focusDistance = 1.1878;\n\tfocusPoint.set( - 0.5253353217832674, 0.3031596413506029, 0.000777794185259223 );\n\n\tscene = new THREE.Scene();\n\n\tptRenderer = new PathTracingRenderer( renderer );\n\tptRenderer.camera = camera;\n\tptRenderer.material = new PhysicalPathTracingMaterial();\n\tptRenderer.tiles.set( params.tiles, params.tiles );\n\tptRenderer.material.setDefine( 'FEATURE_GRADIENT_BG', 1 );\n\tptRenderer.material.setDefine( 'FEATURE_MIS', 0 );\n\tptRenderer.material.bgGradientTop.set( 0x390f20 );\n\tptRenderer.material.bgGradientBottom.set( 0x151b1f );\n\n\tfsQuad = new FullScreenQuad( new THREE.MeshBasicMaterial( {\n\t\tmap: ptRenderer.target.texture,\n\t\tblending: THREE.CustomBlending,\n\t} ) );\n\n\tcontrols = new OrbitControls( camera, renderer.domElement );\n\tcontrols.target.set( - 0.182, 0.147, 0.06 );\n\tcontrols.update();\n\tcontrols.addEventListener( 'change', () => {\n\n\t\tptRenderer.reset();\n\n\t} );\n\n\tsamplesEl = document.getElementById( 'samples' );\n\n\tconst envMapPromise = new Promise( resolve => {\n\n\t\tnew RGBELoader()\n\t\t\t.load( 'https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/equirectangular/royal_esplanade_1k.hdr', texture => {\n\n\t\t\t\tconst generator = new BlurredEnvMapGenerator( renderer );\n\t\t\t\tconst blurredTex = generator.generate( texture, 0.35 );\n\t\t\t\tptRenderer.material.envMapInfo.updateFrom( blurredTex );\n\t\t\t\tgenerator.dispose();\n\t\t\t\ttexture.dispose();\n\n\t\t\t\tscene.environment = blurredTex;\n\n\t\t\t\tresolve();\n\n\t\t\t} );\n\n\t} );\n\n\tconst generator = new PathTracingSceneWorker();\n\tconst gltfPromise = new GLTFLoader()\n\t\t.setMeshoptDecoder( MeshoptDecoder )\n\t\t.loadAsync( 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/models/sd-macross-city-standoff-diorama/scene.glb' )\n\t\t.then( gltf => {\n\n\t\t\tconst group = new THREE.Group();\n\n\t\t\tconst geometry = new THREE.SphereBufferGeometry( 1, 10, 10 );\n\t\t\tconst mat = new THREE.MeshStandardMaterial( {\n\t\t\t\temissiveIntensity: 10,\n\t\t\t\temissive: 0xffffff\n\t\t\t} );\n\t\t\tfor ( let i = 0; i < 300; i ++ ) {\n\n\t\t\t\tconst m = new THREE.Mesh(\n\t\t\t\t\tgeometry,\n\t\t\t\t\tmat\n\t\t\t\t);\n\t\t\t\tm.scale.setScalar( 0.075 * Math.random() + 0.03 );\n\t\t\t\tm.position.randomDirection().multiplyScalar( 30 + Math.random() * 15 );\n\t\t\t\tgroup.add( m );\n\n\t\t\t}\n\n\t\t\tgltf.scene.scale.setScalar( 0.5 );\n\t\t\tgltf.scene.updateMatrixWorld();\n\t\t\tgroup.add( gltf.scene );\n\n\t\t\tgltf.scene.traverse( c => {\n\n\t\t\t\tif ( c.material ) {\n\n\t\t\t\t\tc.material.roughness = 0.05;\n\t\t\t\t\tc.material.metalness = 0.05;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\treturn generator.generate( group );\n\n\t\t} )\n\t\t.then( result => {\n\n\t\t\tsceneInfo = result;\n\n\t\t\tscene.add( result.scene );\n\n\t\t\tconst { bvh, textures, materials } = result;\n\t\t\tconst geometry = bvh.geometry;\n\t\t\tconst material = ptRenderer.material;\n\n\t\t\tmaterial.bvh.updateFrom( bvh );\n\t\t\tmaterial.normalAttribute.updateFrom( geometry.attributes.normal );\n\t\t\tmaterial.tangentAttribute.updateFrom( geometry.attributes.tangent );\n\t\t\tmaterial.uvAttribute.updateFrom( geometry.attributes.uv );\n\t\t\tmaterial.materialIndexAttribute.updateFrom( geometry.attributes.materialIndex );\n\t\t\tmaterial.textures.setTextures( renderer, 2048, 2048, textures );\n\t\t\tmaterial.materials.updateFrom( materials, textures );\n\n\t\t\tgenerator.dispose();\n\n\t\t} );\n\n\tawait Promise.all( [ gltfPromise, envMapPromise ] );\n\n\tdocument.getElementById( 'loading' ).remove();\n\n\tonResize();\n\twindow.addEventListener( 'resize', onResize );\n\trenderer.domElement.addEventListener( 'mouseup', onMouseUp );\n\trenderer.domElement.addEventListener( 'mousedown', onMouseDown );\n\n\tconst gui = new GUI();\n\tconst ptFolder = gui.addFolder( 'Path Tracing' );\n\tptFolder.add( params, 'tiles', 1, 4, 1 ).onChange( value => {\n\n\t\tptRenderer.tiles.set( value, value );\n\n\t} );\n\tptFolder.add( params, 'samplesPerFrame', 1, 10, 1 );\n\tptFolder.add( params, 'bounces', 1, 30, 1 ).onChange( () => {\n\n\t\tptRenderer.reset();\n\n\t} );\n\tptFolder.add( params, 'resolutionScale', 0.1, 1 ).onChange( () => {\n\n\t\tonResize();\n\n\t} );\n\n\tconst cameraFolder = gui.addFolder( 'Camera' );\n\tcameraFolder.add( camera, 'focusDistance', 1, 100 ).onChange( reset ).listen();\n\tcameraFolder.add( camera, 'apertureBlades', 0, 10, 1 ).onChange( function ( v ) {\n\n\t\tcamera.apertureBlades = v === 0 ? 0 : Math.max( v, 3 );\n\t\tthis.updateDisplay();\n\t\treset();\n\n\t} );\n\tcameraFolder.add( camera, 'apertureRotation', 0, 12.5 ).onChange( reset );\n\tcameraFolder.add( camera, 'anamorphicRatio', 0.1, 10.0 ).onChange( reset );\n\tcameraFolder.add( camera, 'bokehSize', 0, 100 ).onChange( reset ).listen();\n\tcameraFolder.add( camera, 'fStop', 0.02, 20 ).onChange( reset ).listen();\n\tcameraFolder.add( camera, 'fov', 25, 100 ).onChange( () => {\n\n\t\tcamera.updateProjectionMatrix();\n\t\treset();\n\n\t} ).listen();\n\tcameraFolder.add( params, 'autoFocus' );\n\n\tanimate();\n\n}\n\nfunction onMouseDown( e ) {\n\n\tmouse.set( e.clientX, e.clientY );\n\n}\n\nfunction onMouseUp( e ) {\n\n\tconst deltaMouse = Math.abs( mouse.x - e.clientX ) + Math.abs( mouse.y - e.clientY );\n\tif ( deltaMouse < 2 && sceneInfo ) {\n\n\t\tconst bvh = sceneInfo.bvh;\n\t\tconst raycaster = new THREE.Raycaster();\n\t\traycaster.setFromCamera( {\n\n\t\t\tx: ( e.clientX / window.innerWidth ) * 2 - 1,\n\t\t\ty: - ( e.clientY / window.innerHeight ) * 2 + 1,\n\n\t\t}, camera );\n\n\t\tconst hit = bvh.raycastFirst( raycaster.ray );\n\t\tif ( hit ) {\n\n\t\t\tfocusPoint.copy( hit.point );\n\t\t\tcamera.focusDistance = hit.distance - camera.near;\n\t\t\tptRenderer.reset();\n\n\t\t}\n\n\t}\n\n}\n\nfunction onResize() {\n\n\tconst w = window.innerWidth;\n\tconst h = window.innerHeight;\n\tconst scale = params.resolutionScale;\n\tconst dpr = window.devicePixelRatio;\n\n\tptRenderer.setSize( w * scale * dpr, h * scale * dpr );\n\tptRenderer.reset();\n\n\trenderer.setSize( w, h );\n\trenderer.setPixelRatio( window.devicePixelRatio * scale );\n\tcamera.aspect = w / h;\n\tcamera.updateProjectionMatrix();\n\n}\n\nfunction reset() {\n\n\tptRenderer.reset();\n\n}\n\n\nfunction animate() {\n\n\trequestAnimationFrame( animate );\n\n\tif ( params.autoFocus ) {\n\n\t\tcamera.focusDistance = camera.position.distanceTo( focusPoint ) - camera.near;\n\n\t}\n\n\tptRenderer.material.materials.updateFrom( sceneInfo.materials, sceneInfo.textures );\n\tptRenderer.material.filterGlossyFactor = params.filterGlossyFactor;\n\tptRenderer.material.environmentIntensity = params.environmentIntensity;\n\tptRenderer.material.bounces = params.bounces;\n\tptRenderer.material.physicalCamera.updateFrom( camera );\n\n\tcamera.updateMatrixWorld();\n\n\tfor ( let i = 0, l = params.samplesPerFrame; i < l; i ++ ) {\n\n\t\tptRenderer.update();\n\n\t}\n\n\tif ( ptRenderer.samples < 1 ) {\n\n\t\trenderer.render( scene, camera );\n\n\t}\n\n\trenderer.autoClear = false;\n\tfsQuad.render( renderer );\n\trenderer.autoClear = true;\n\n\tsamplesEl.innerText = `Samples: ${ Math.floor( ptRenderer.samples ) }`;\n\n}\n\n\n\n\n"],"names":["$ilwiq","parcelRequire","$c6cfb944fb68dfc5$var$renderer","$c6cfb944fb68dfc5$var$controls","$c6cfb944fb68dfc5$var$sceneInfo","$c6cfb944fb68dfc5$var$ptRenderer","$c6cfb944fb68dfc5$var$camera","$c6cfb944fb68dfc5$var$fsQuad","$c6cfb944fb68dfc5$var$scene","$c6cfb944fb68dfc5$var$samplesEl","$c6cfb944fb68dfc5$var$mouse","Vector2","$c6cfb944fb68dfc5$var$focusPoint","Vector3","$c6cfb944fb68dfc5$var$params","environmentIntensity","environmentRotation","bounces","samplesPerFrame","resolutionScale","window","devicePixelRatio","filterGlossyFactor","tiles","autoFocus","$c6cfb944fb68dfc5$var$onMouseDown","e","set","clientX","clientY","$c6cfb944fb68dfc5$var$onMouseUp","Math","abs","x","y","bvh","raycaster","Raycaster","setFromCamera","innerWidth","innerHeight","hit","raycastFirst","ray","copy","point","focusDistance","distance","near","reset","$c6cfb944fb68dfc5$var$onResize","w","h","scale","dpr","setSize","setPixelRatio","aspect","updateProjectionMatrix","$c6cfb944fb68dfc5$var$reset","$c6cfb944fb68dfc5$var$animate","requestAnimationFrame","position","distanceTo","material","materials","updateFrom","textures","physicalCamera","updateMatrixWorld","i","l","update","samples","render","autoClear","innerText","floor","max","async","WebGLRenderer","antialias","toneMapping","ACESFilmicToneMapping","document","body","appendChild","domElement","$4CEV9","PhysicalCamera","apertureBlades","fStop","Scene","PathTracingRenderer","camera","PhysicalPathTracingMaterial","setDefine","bgGradientTop","bgGradientBottom","$RPVlj","FullScreenQuad","MeshBasicMaterial","map","target","texture","blending","CustomBlending","$5Rd1x","OrbitControls","addEventListener","getElementById","envMapPromise","Promise","resolve","$891vQ","RGBELoader","load","generator","BlurredEnvMapGenerator","blurredTex","generate","envMapInfo","dispose","environment","generator1","$cVdfP","PathTracingSceneWorker","gltfPromise","$7lx9d","GLTFLoader","setMeshoptDecoder","$kp7Te","MeshoptDecoder","loadAsync","then","gltf","group","Group","geometry","SphereBufferGeometry","mat","MeshStandardMaterial","emissiveIntensity","emissive","m","Mesh","setScalar","random","randomDirection","multiplyScalar","add","scene","traverse","c","roughness","metalness","result","normalAttribute","attributes","normal","tangentAttribute","tangent","uvAttribute","uv","materialIndexAttribute","materialIndex","setTextures","all","remove","gui","$jiuw3","GUI","ptFolder","addFolder","onChange","value","cameraFolder","listen","v","this","updateDisplay","$c6cfb944fb68dfc5$var$init"],"version":3,"file":"depthOfField.0cc6d401.js.map"}